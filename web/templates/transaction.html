{{ template "snippets/header.html" . }}

<h2>Transaction</h2>

<table class="table left">
    <tr>
        <th>Id</th>
        <td>{{ .Transaction.Id }}</td>
    </tr>
    <tr>
        <th>Hash</th>
        <td>{{ .Transaction.GetChainHash.String }}</td>
    </tr>
    <tr>
        <th>Key Id</th>
        <td>{{ .Transaction.KeyId }}</td>
    </tr>
    <tr>
        <th>Address</th>
        <td>{{ .Transaction.Key.GetPublicKey.GetAddress.GetEncoded }}</td>
    </tr>
    <tr>
        <th>Block Height</th>
        <td>{{ .Transaction.GetBlockHeight }}</td>
    </tr>
    <tr>
        <th>Block Date (UTC)</th>
        <td>{{ .Transaction.GetBlockTime }}</td>
    </tr>
    <tr>
        <th>Value</th>
        <td>{{ formatBigInt .Transaction.GetValue }} satoshis ({{ formatBigFloat .Transaction.GetValueBCH }} BCH)</td>
        </td>
    </tr>
    <tr>
        <th>Fee</th>
    <td>
    {{ if .Transaction.HasFee }}
    {{ formatBigInt .Transaction.GetFee }} satoshis ({{ formatBigFloat .Transaction.GetFeeBCH }} BCH)</td>
    {{ else }}
        Unknown
    {{ end }}
        </td>
    </tr>
</table>

<h3>Inputs</h3>

{{ range .Transaction.TxIn }}

<table class="table left">
    <tr>
        <th>Id</th>
        <td>{{ .Id }}</td>
    </tr>
    <tr>
        <th>Index</th>
        <td>{{ .Index }}</td>
    </tr>
{{ if .HasOut }}
    <tr>
        <th>Value</th>
        <td>{{ formatBigInt .TxnOut.Value }} satoshis ({{ formatBigFloat .TxnOut.ValueInBCH }} BCH)</td>
    </tr>
{{ end }}
    <tr>
        <th>Sequence</th>
        <td>{{ .Sequence }}</td>
    </tr>
    <tr>
        <th>Address</th>
        <td>{{ .GetAddress }}</td>
    </tr>
    <tr>
        <th>Previous Output</th>
        <td>{{ .GetPrevOutPointString }}</td>
    </tr>
    <tr>
        <th>Previous Output Index</th>
        <td>{{ .PreviousOutPointIndex }}</td>
    </tr>
    <tr>
        <th>Unlock String</th>
        <td>{{ .UnlockString }}</td>
    </tr>
{{ if .HasOut }}
    <tr>
        <th>Actions</th>
        <td>
            <a href="transaction/{{ .TxnOut.Transaction.Id }}">View Transaction</a>
        </td>
    </tr>
{{ end }}
</table>

{{ end }}

<h3>Outputs</h3>

{{ range .Transaction.TxOut }}

<table class="table left">
    <tr>
        <th>Id</th>
        <td>{{ .Id }}</td>
    </tr>
    <tr>
        <th>Index</th>
        <td>{{ .Index }}</td>
    </tr>
    <tr>
        <th>Value</th>
        <td>{{ formatBigInt .Value }} satoshis ({{ formatBigFloat .ValueInBCH }} BCH)</td>
    </tr>
    <tr>
        <th>Lock Script</th>
        <td>{{ .LockString }}</td>
    </tr>
    <tr>
        <th>Required Signatures</th>
        <td>{{ .RequiredSigs }}</td>
    </tr>
    <tr>
        <th>Script Class</th>
        <td>{{ .GetScriptClass }}</td>
    </tr>
    <tr>
        <th>Address(es)</th>
        <td>
        {{ range .Addresses }}{{ .String }}<br/>{{ end }}
        </td>
    </tr>
    <tr>
        <th>Actions</th>
        <td>
        {{ if .HasIn }}
            <a href="transaction/{{ .TxnIn.Transaction.Id }}">View Transaction</a>
        {{ end }}
        {{if .IsSpendable }}
            <a href="spend/{{ .Id }}">Spend</a>
        {{ end }}
        </td>
    </tr>

</table>

<br/>

{{ end }}

<p>
    <a class="btn" href="key/{{ .Transaction.KeyId }}">Back to Key</a>
</p>

{{ template "snippets/footer.html" . }}
